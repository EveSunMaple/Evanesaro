---
import { format } from 'date-fns';
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { data, slug } = post;
---

<article class="card bg-base-200 shadow-xl hover:shadow-2xl transition-shadow">
  {data.featuredImage && (
    <figure>
      <img
        src={data.featuredImage}
        alt={data.title}
        class="w-full h-48 object-cover"
      />
    </figure>
  )}
  <div class="card-body">
    <h2 class="card-title">
      <a href={`/blog/${slug}`} class="hover:text-primary">
        {data.title}
      </a>
    </h2>
    <p class="text-sm text-base-content/70">
      {format(data.pubDate, 'MMMM d, yyyy')}
    </p>
    <p class="mt-2">{data.description}</p>
    <div class="card-actions justify-between items-center mt-4">
      <div class="flex flex-wrap gap-2">
        {data.categories.map((category) => (
          <a
            href={`/category/${category.toLowerCase()}`}
            class="badge badge-primary"
          >
            {category}
          </a>
        ))}
      </div>
      {data.badges && (
        <div class="flex gap-2">
          {data.badges.map((badge) => (
            <span class="badge badge-secondary">{badge}</span>
          ))}
        </div>
      )}
    </div>
  </div>
</article>